<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>BlockSolverInterface · BlockDecomposition</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>BlockDecomposition</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="installation.html">Installation</a></li><li><a class="toctext" href="introduction.html">Introduction</a></li><li><a class="toctext" href="basic.html">Basic</a></li><li><a class="toctext" href="callbacks.html">Callbacks</a></li><li><a class="toctext" href="advanced.html">Advanced</a></li><li class="current"><a class="toctext" href="BlockSolverInterface.html">BlockSolverInterface</a><ul class="internal"><li><a class="toctext" href="#Decomposition-data-1">Decomposition data</a></li><li><a class="toctext" href="#Additional-data-to-the-decomposition-1">Additional data to the decomposition</a></li><li><a class="toctext" href="#Additional-data-to-the-model-1">Additional data to the model</a></li><li><a class="toctext" href="#Costs-and-solutions-1">Costs and solutions</a></li><li><a class="toctext" href="#Oracle-solver-1">Oracle solver</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="BlockSolverInterface.html">BlockSolverInterface</a></li></ul><a class="edit-page" href="https://github.com/realopt/BlockDecomposition.jl/blob/master/docs/src/BlockSolverInterface.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>BlockSolverInterface</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="BlockSolverInterface-module-(dev)-1" href="#BlockSolverInterface-module-(dev)-1">BlockSolverInterface module (dev)</a></h1><p>The content of this section is not useful to the user of BlockDecomposition. It has implementation details about the connection of BlockDecomposition with the underlying solver. It is aimed mainly at developpers who would like to contribute to BlockDecomposition.</p><h2><a class="nav-anchor" id="Decomposition-data-1" href="#Decomposition-data-1">Decomposition data</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_constrs_decomposition!" href="#BlockDecomposition.BlockSolverInterface.set_constrs_decomposition!"><code>BlockDecomposition.BlockSolverInterface.set_constrs_decomposition!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_constrs_decomposition!(s::AbstractMathProgSolver, data::Array)</code></pre><p>sends to the solver <code>s</code> in which subproblems are the constraints. Each element of the <code>data</code> array is a <code>Tuple</code> containing <code>(constr_name::Symbol, constr_id::Tuple, sp_type::Symbol, sp_id::Tuple)</code>. <code>constr_name</code> and <code>constr_id</code> are the name and the index of the constraint in the JuMP model. <code>sp_type</code> and <code>sp_id</code> are the type and the index of the subproblem to which the constraint is assigned.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L13-L21">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_vars_decomposition!" href="#BlockDecomposition.BlockSolverInterface.set_vars_decomposition!"><code>BlockDecomposition.BlockSolverInterface.set_vars_decomposition!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_vars_decomposition!(s::AbstractMathProgSolver, data::Array)</code></pre><p>sends to the solver <code>s</code> in which subproblems are the variables. Each element of the <code>data</code> array is a <code>Tuple</code> containing <code>(var_name::Symbol, var_id::Tuple, sp_type::Symbol, sp_id::Tuple)</code>. <code>var_name</code> and <code>var_id</code> are the name and the index of the variable in the JuMP model. <code>sp_type</code> and <code>sp_id</code> are the type and the index of the subproblem to which the variable is assigned.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L25-L33">source</a></section><p>BlockDecomposition creates the decomposition list for both constraints and variables regardless of the type of decomposition used. Types of subproblem are :</p><ul><li><p><code>:DW_MASTER</code> Dantzig-Wolfe master problem</p></li><li><p><code>:B_MASTER</code> Benders master problem</p></li><li><p><code>:DW_SP</code> Dantzig-Wolfe subproblem</p></li><li><p><code>:B_SP</code> Benders subproblem</p></li></ul><h2><a class="nav-anchor" id="Additional-data-to-the-decomposition-1" href="#Additional-data-to-the-decomposition-1">Additional data to the decomposition</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_oracles!" href="#BlockDecomposition.BlockSolverInterface.set_oracles!"><code>BlockDecomposition.BlockSolverInterface.set_oracles!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_oracles!(s::AbstractMathProgSolver, oracles::Array)</code></pre><p>sends to the solver <code>s</code> the <code>list</code> with subproblems and oracles functions. Each element of the <code>oracles</code> array is a <code>Tuple</code> containing <code>(sp_id::Tuple, sp_type::Symbol, oracle::Function)</code> with <code>oracle</code>, the function defined by the user.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L70-L77">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_sp_mult!" href="#BlockDecomposition.BlockSolverInterface.set_sp_mult!"><code>BlockDecomposition.BlockSolverInterface.set_sp_mult!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_sp_mult!(s::AbstractMathProgSolver, multiplicities::Array)</code></pre><p>sends to the solver <code>s</code> the multiplicity of each subproblem. Each element of the <code>multiplicities</code> array is a <code>Tuple</code> containing <code>(sp_id::Tuple, sp_type::Symbol, mult_lb, mult_ub)</code> with <code>mult_lb</code> the lower bound of the multiplicity and <code>mult_ub</code> the upper bound of the multiplicity.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L40-L47">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_sp_prio!" href="#BlockDecomposition.BlockSolverInterface.set_sp_prio!"><code>BlockDecomposition.BlockSolverInterface.set_sp_prio!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_sp_prio!(s::AbstractMathProgSolver, priorities::Array)</code></pre><p>sends to the solver <code>s</code> the list of subproblem priorities. Each element of the <code>data</code> array is a <code>Tuple</code> containing <code>(sp_id::Tuple, sp_type::Symbol, sp_prio)</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L51-L56">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_var_branching_prio!" href="#BlockDecomposition.BlockSolverInterface.set_var_branching_prio!"><code>BlockDecomposition.BlockSolverInterface.set_var_branching_prio!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_var_branching_prio!(s::AbstractMathProgSolver, priorities::Array)</code></pre><p>sends to the solver <code>s</code> the list of variables branching priorities. The number stored at the row <code>i</code> is the branching priority of the variable stored at the column <code>i</code> in the JuMP model.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L60-L66">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_branching_rules!" href="#BlockDecomposition.BlockSolverInterface.set_branching_rules!"><code>BlockDecomposition.BlockSolverInterface.set_branching_rules!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_branching_rules!(s::AbstractMathProgSolver, rules::Dict{Symbol, Any})</code></pre><p>sends to the solver <code>s</code> a Dictionary <code>rules</code>. The key is the name of the branching rule and the content is an array of branching instances. The array contains Tuple of variables name and parameters. Parameters are stored in an array of tuple (name_of_parameter, value_of_parameter).</p><p>For instance,</p><pre><code class="language-none">rules = (:branching_rule_name =&gt; [(:x, [(:priority, 1)]), (:y, [(:priority, 1)])])</code></pre><p>Names of branching rules depend on solvers.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L171-L183">source</a></section><h2><a class="nav-anchor" id="Additional-data-to-the-model-1" href="#Additional-data-to-the-model-1">Additional data to the model</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_objective_bounds_and_magnitude!" href="#BlockDecomposition.BlockSolverInterface.set_objective_bounds_and_magnitude!"><code>BlockDecomposition.BlockSolverInterface.set_objective_bounds_and_magnitude!</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_objective_bounds_and_magnitude!(s::AbstractMathProgSolver, magn, lb, ub)</code></pre><p>sends to the solver <code>s</code> the magnitude <code>magn</code>, the lower bound <code>lb</code> and the upper bound <code>ub</code> of the objective function.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L81-L87">source</a></section><p>Send to the solver <code>s</code> the magnitude <code>magn</code>, the lower bound <code>lb</code> and the upper bound <code>ub</code> of the objective function.</p><h2><a class="nav-anchor" id="Costs-and-solutions-1" href="#Costs-and-solutions-1">Costs and solutions</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.getcurrentcost" href="#BlockDecomposition.BlockSolverInterface.getcurrentcost"><code>BlockDecomposition.BlockSolverInterface.getcurrentcost</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">getcurrentcost(m::AbstractMathProgModel, vcol::Integer)</code></pre><p>returns the current cost of the <code>vcol</code> <span>${}^{th}$</span> variable.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L127-L132">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.getdisaggregatedvalueofvariable" href="#BlockDecomposition.BlockSolverInterface.getdisaggregatedvalueofvariable"><code>BlockDecomposition.BlockSolverInterface.getdisaggregatedvalueofvariable</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">getdisaggregatedvalueofvariable(m::AbstractMathProgModel, vcol::Integer)</code></pre><p>returns the disaggregated value of the <code>vcol</code> <span>${}^{th}$</span> variable.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L163-L167">source</a></section><h2><a class="nav-anchor" id="Oracle-solver-1" href="#Oracle-solver-1">Oracle solver</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_oraclesolution_solution" href="#BlockDecomposition.BlockSolverInterface.set_oraclesolution_solution"><code>BlockDecomposition.BlockSolverInterface.set_oraclesolution_solution</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_oraclesolution_solution(o::OracleSolverData, x::JuMP.Variable, v::Real)</code></pre><p>Set the value of the variable <code>x</code> to <code>v</code> in the oracle solver solution stored in the <code>OracleSolverData</code> object <code>o</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L101-L106">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_oraclesolution_objval" href="#BlockDecomposition.BlockSolverInterface.set_oraclesolution_objval"><code>BlockDecomposition.BlockSolverInterface.set_oraclesolution_objval</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_oraclesolution_objval(o::OracleSolverData, v::Real)</code></pre><p>Sets the objective value stored in the <code>OracleSolverData</code> object <code>o</code> to <code>v</code>.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L110-L115">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.set_oraclesolution_newsolution" href="#BlockDecomposition.BlockSolverInterface.set_oraclesolution_newsolution"><code>BlockDecomposition.BlockSolverInterface.set_oraclesolution_newsolution</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">set_oraclesolution_newsolution(o::OracleSolverData)</code></pre><p>creates a new solution in the oracle solver solution. It is usefull, if the user wants to return several solutions.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L92-L97">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="BlockDecomposition.BlockSolverInterface.get_oracle_phaseofstageapproach" href="#BlockDecomposition.BlockSolverInterface.get_oracle_phaseofstageapproach"><code>BlockDecomposition.BlockSolverInterface.get_oracle_phaseofstageapproach</code></a> — <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">get_oracle_phaseofstageapproach(o::OracleSolverData)</code></pre><p>Returns the phase of stage approach.</p></div><a class="source-link" target="_blank" href="https://github.com/realopt/BlockDecomposition.jl/blob/825a7961e3ead63c25f20f581d7be16786f8a04b/src/BlockSolverInterface.jl#L119-L123">source</a></section><footer><hr/><a class="previous" href="advanced.html"><span class="direction">Previous</span><span class="title">Advanced</span></a></footer></article></body></html>
